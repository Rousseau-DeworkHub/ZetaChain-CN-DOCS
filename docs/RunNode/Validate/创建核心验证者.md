| 标题           | 描述                                |
| :------------- | :---------------------------------- |
| 创建核心验证者 | 成为 ZetaChain 网络上的核心验证者。 |

## 概述

>
> 本指南假设你已完成 [节点设置](/nodes/start-here/setup) 步骤，并使用提供的方法之一完成节点同步。

本指南旨在简化流程，不涉及安全密钥管理的复杂细节。我们建议你在密钥生成与管理时遵循最佳安全实践。我们仅提供基础验证人节点设置方面的支持。

本指南中的命令应以运行验证人的账户身份执行。如果你已完成节点设置文档，可通过以下命令切换至该用户：
```bash
sudo su -l zetachain
```

### 创建验证人账户

创建账户 `operator`。

请务必妥善保存输出中的助记词（mnemonic）。稍后你将需要这些信息来访问账户。

```bash
zetacored keys add operator --algo secp256k1
```

### 为验证人账户添加资金

检查验证人账户余额。由于该账户刚创建，`balances` 应为空。

```bash
zetacored query bank balances $(zetacored keys show operator -a)
```

向验证人账户充值。

可从你的钱包或交易所向验证人地址发送代币。请确保使用 ZetaChain 的 Cosmos 网络进行转账，而非其 EVM 网络。

再次检查验证人账户余额：

```bash
zetacored query bank balances $(zetacored keys show operator -a)
```

### 创建验证人

通过抵押 **_azeta_** 代币创建新的验证人。以下示例展示了如何在 ZetaChain 主网 Beta 上创建验证人。请保存输出中的交易哈希（transaction hash）。

首先，创建并根据需要修改 `~/validator.json` 文件，参考以下模板：
```text
{
	"pubkey": {"@type":"/cosmos.crypto.ed25519.PubKey","key":"EXAMPLE+F405Jcm2vXV+2v4fnjodh6aafuIdeoW+rUw="},
	"amount": "1000000000000000000azeta",
	"moniker": "myvalidator",
	"identity": "验证人（可选）的身份签名（例如 UPort 或 Keybase）",
	"website": "验证人（可选）的网站",
	"security": "验证人（可选）的安全联系邮箱",
	"details": "验证人（可选）的详细说明",
	"commission-rate": "0.1",
	"commission-max-rate": "0.2",
	"commission-max-change-rate": "0.01",
	"min-self-delegation": "1000000"
}
```
- `amount`：绑定的代币数量  
- `moniker`：验证人名称  
- `commission-rate`：验证人从区块奖励和手续费中收取的佣金比例  
- `commission-max-rate`：验证人可收取的最高佣金比例（此参数固定，创建后无法更改）  
- `commission-max-change-rate`：验证人佣金的每日最大增长幅度（此参数同样固定）  
- `min-self-delegation`：验证人需保持自抵押的 **azeta** 最小数量。如果自抵押量低于该值，验证人将被监禁（jailed）并移出活跃验证人集  
- 设置佣金参数时，`commission-max-change-rate` 用于衡量百分比“点”变化。例如从 1% 到 2% 属于 100% 增长，但仅增加一个百分点  
- `min-self-delegation` 必须是正整数，表示验证人必须始终保持的最小自抵押投票权

接着，将 `validator.json` 文件中的验证人公钥替换为以下命令输出结果：  
```bash
zetacored tendermint show-validator
```

最后，执行以下命令创建验证人并记录交易哈希：  
```bash
zetacored tx staking create-validator ~/validator.json   --gas=10000000   --gas-prices=10000000000azeta   --from=operator
```

---

### 检查交易状态

使用以下命令检查创建验证人的交易日志，确保没有错误。如果出现错误，说明创建失败，需要排查问题。

```bash
zetacored query tx <your transaction hash>
```

### 检查验证人状态

使用以下命令确认验证人是否创建成功：

```bash
zetacored query staking validator $(zetacored keys show operator --bech val -a)
```

如果你初始抵押的 **_azeta_** 数量不足以进入活跃验证人集，状态会显示为 `status: BOND_STATUS_UNBONDED`，说明质押量不足。

此时验证人未加入活跃集，无法签名区块，也无法获得奖励，但仍可接受其他委托。

可使用以下命令追加代币至验证人账户以满足活跃集最低抵押要求。截至 2025 年第一季度，需至少抵押 700 ZETA 才能进入前 100 名验证人：

```bash
zetacored tx staking delegate $(zetacored keys show operator --bech val -a) 2000000azeta --gas=10000000 --gas-prices=10000000000azeta  --from operator
```

当验证人抵押的代币数量达到要求后，将自动加入活跃集，状态更新为 `status: BOND_STATUS_BONDED`。

### **确认验证人是否正常运行**

当验证人已绑定（bonded）后，可通过以下命令确认其是否位于验证人集合中：

```bash
zetacored query tendermint-validator-set | grep $(zetacored tendermint show-address)
```

还可以使用以下命令查看验证人签名信息，确保 `missed_blocks_counter: "0"` 且 `index_offset:` 持续增加。

```bash
zetacored query slashing signing-info $(zetacored tendermint show-validator)
```

### 备份验证人共识密钥

默认情况下，验证人的共识密钥仅保存在验证人节点本地。请务必为该密钥创建备份，以防数据丢失导致失去验证人控制权。请备份以下文件并妥善保存至安全位置（不要与节点放在同一台机器上）：`~/.zetacored/config/priv_validator_key.json`

### 解除验证人监禁（Unjail）

如果验证人因与链不同步（停机）而被监禁，可使用以下命令解除监禁。首先通过验证人状态检查 `jailed: true` 确认当前被监禁。当验证人重新同步至最新区块后（高度与活跃验证人一致），可执行以下命令恢复活跃状态：

```bash
zetacored tx slashing unjail --from=operator
```

执行后检查交易状态是否无错误，并确认验证人已重新进入活跃集。

### 提取奖励

可使用以下命令提取包括佣金在内的奖励：

```bash
zetacored tx distribution withdraw-rewards --commission [validator_address]
```

你还可以设置单独的收益接收地址，使奖励不直接发送至验证人钱包：

```bash
zetacored tx distribution set-withdraw-addr [withdraw-addr]
```
