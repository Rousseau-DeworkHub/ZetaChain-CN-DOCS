| 标题   | 描述                                  |
| :----- | :------------------------------------ |
| 工具包 | 用于构建通用应用程序的 TypeScript SDK |

# ZetaChain 工具包

ZetaChain Toolkit 是一个用于构建通用应用的 TypeScript SDK，可在连接至 ZetaChain 的任意链之间转移代币、调用合约，并跟踪跨链交易。

## ✨ 功能特性

- 跨链资产转移：从任意受支持的链向 ZetaChain 存入 gas 与同质化代币，并可再提回。
- 跨链合约执行：对 ZetaChain 上的通用合约发起入站调用，或向连接链上的合约发起出站调用。
- 实时交易追踪：监控跨链交易在各网络中传播的完整生命周期。
- 内置多链支持：开箱即用，支持 EVM 链、Solana、Sui、Bitcoin 与 TON。

## 📦 安装

```bash
npm i @zetachain/toolkit
```

## 🚀 快速开始

```ts
import { evmDeposit, zetachainCall } from "@zetachain/toolkit";

// 将以太坊上的 USDC 存入 ZetaChain
await evmDeposit(
  {
    amount: "1.0",
    receiver: "0xReceiverOnZetaChain", // ZetaChain 上的 EOA 或合约
    token: "0xUSDC", // 源链上的 ERC-20
  },
  { signer: ethersSigner }
);

// 从 ZetaChain 向以太坊上的合约发起调用
await zetachainCall(
  {
    receiver: "0xRecevierContract", // 连接链上的合约
    function: "hello(string)",
    types: ["string"],
    values: ["alice"],
    zrc20: "0xZRC20",
  },
  { signer: ethersSigner }
);
```

所有 Toolkit 的能力也可通过 [`zetachain` CLI](https://github.com/zeta-chain/cli) 使用。

## 函数

### evmCall()

> evmCall(params, options): Promise<ContractTransactionResponse>

从 EVM 链向 ZetaChain 上的通用合约发起跨链调用。

该函数允许你在不转移任何代币的情况下，调用目标 EVM 链上的合约函数。适用于在不同链之间执行合约逻辑。

#### 参数

##### params

调用参数，包括接收方地址、函数类型/取值以及回退选项

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### types

`string`[] = `...`

###### values

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

Configuration options including signer and optional gateway address

###### gateway?

`string` = `...`

###### signer

`AbstractSigner`\<`null` \| `Provider`\> = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<`ContractTransactionResponse`\>

解析为交易回执的 Promise

***

### evmDeposit()

> evmDeposit(params, options): Promise<ContractTransactionResponse>

从 EVM 链向 ZetaChain 存入代币。

该函数允许你从 EVM 链向 ZetaChain 转移代币。支持原生代币（ETH、BNB、AVAX 等）与 ERC20 代币。对于 ERC20，函数会在存入前自动处理授权。

#### 参数

##### params

存入参数，包括数量、接收方、代币地址与回退选项

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### token?

`string` = `...`

##### options

配置项，包括签名者与可选的网关地址

###### gateway?

`string` = `...`

###### signer

`AbstractSigner`\<`null` \| `Provider`\> = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<`ContractTransactionResponse`\>

解析为交易回执的 Promise

***

### evmDepositAndCall()

> evmDepositAndCall(params, options): Promise<ContractTransactionResponse>

从 EVM 链向 ZetaChain 的通用合约存入代币并发起跨链调用。

该函数在一次交易中合并了代币存入与合约调用。支持从 EVM 链向 ZetaChain 转移代币，并立即在通用合约上执行函数调用。支持原生代币与 ERC20。

#### 参数

##### params

存入与调用参数，包括数量、接收方、代币地址、函数类型/取值与回退选项

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### token?

`string` = `...`

###### types

`string`[] = `...`

###### values

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

配置项，包括签名者与可选的网关地址

###### gateway?

`string` = `...`

###### signer

`AbstractSigner`\<`null` \| `Provider`\> = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<`ContractTransactionResponse`\>

解析为交易回执的 Promise

***

### solanaCall()

> solanaCall(params, options): Promise<string>

从 Solana 向 ZetaChain 上的通用合约发起跨链调用。

该函数允许在不转移任何代币的情况下，从 Solana 调用通用合约的函数，适用于跨链执行合约逻辑。

#### 参数

##### params

调用参数，包括接收方地址、函数类型/取值与回退选项

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### types

`string`[] = `...`

###### values

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

配置项，包括链 ID 与签名密钥对

###### chainId

`string` = `...`

###### signer

`Keypair` = `...`

#### 返回值

`Promise`\<`string`\>

解析为交易回执的 Promise

***

### solanaDeposit()

> solanaDeposit(params, options): Promise<string>

从 Solana 向 ZetaChain 存入代币。

该函数允许从 Solana 向 ZetaChain 转移代币。支持原生 SOL 与 SPL 代币。对于 SPL 代币，会自动处理代币账户创建与代币转移。

#### 参数

##### params

存入参数，包括数量、接收方、代币 mint 地址与回退选项

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### token?

`string` = `...`

##### options

配置项，包括链 ID 与签名密钥对

###### chainId

`string` = `...`

###### signer

`Keypair` = `...`

#### 返回值

`Promise`\<`string`\>

解析为交易回执的 Promise

***

### solanaDepositAndCall()

> solanaDepositAndCall(params, options): Promise<string>

从 Solana 向 ZetaChain 的通用合约存入代币并发起跨链调用。

该函数在一次交易中合并代币存入与合约调用。支持从 Solana 向 ZetaChain 转移代币，并立即在通用合约上执行函数调用。支持原生 SOL 与 SPL 代币。

#### 参数

##### params

存入与调用参数，包括数量、接收方、代币 mint、函数类型/取值与回退选项

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### token?

`string` = `...`

###### types

`string`[] = `...`

###### values

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

配置项，包括链 ID 与签名密钥对

###### chainId

`string` = `...`

###### signer

`Keypair` = `...`

#### 返回值

`Promise`\<`string`\>

解析为交易回执的 Promise

***

### suiDeposit()

> suiDeposit(params, options): Promise<void>

从 Sui 向 ZetaChain 存入代币。

该函数允许从 Sui 向 ZetaChain 转移代币。支持原生 SUI 与其他币种。函数会自动处理币拆分与交易构造。

#### 参数

##### params

存入参数，包括数量、接收方与可选的币种类型

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### token?

`string` = `...`

##### options

配置项，包括链 ID、gas 限额、网关设置与签名者

###### chainId

`"103"` \| `"105"` \| `"104"` = `...`

###### gasLimit?

`string` = `...`

###### gatewayObject?

`string` = `...`

###### gatewayPackage?

`string` = `...`

###### signer

`Ed25519Keypair` = `...`

#### 返回值

`Promise`\<`void`\>

交易执行完成后解析

***

### suiDepositAndCall()

> suiDepositAndCall(params, options): Promise<void>

从 Sui 向 ZetaChain 的通用合约存入代币并发起跨链调用。

该函数在一次交易中合并代币存入与合约调用。支持从 Sui 向 ZetaChain 转移代币，并立即在通用合约上执行函数调用。支持原生 SUI 与其他币种。

#### 参数

##### params

存入与调用参数，包括数量、接收方、币种、函数类型/取值

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### token?

`string` = `...`

###### types

`string`[] = `...`

###### values

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

配置项，包括链 ID、gas 限额、网关设置与签名者

###### chainId

`"103"` \| `"105"` \| `"104"` = `...`

###### gasLimit?

`string` = `...`

###### gatewayObject?

`string` = `...`

###### gatewayPackage?

`string` = `...`

###### signer

`Ed25519Keypair` = `...`

#### 返回值

`Promise`\<`void`\>

交易执行完成后解析

***

### tonDeposit()

> tonDeposit(params, options): Promise<void>

从 TON 向 ZetaChain 存入代币。

该函数允许你从 TON 区块链向 ZetaChain 转移 TON 代币，并自动处理钱包连接与交易签名。

#### 参数

##### params

存入参数，包括数量与接收方地址

###### amount

`string` = `...`

###### receiver

`string` = `...`

##### options

配置项，包括链 ID、RPC 端点、钱包与 API Key

###### apiKey?

`string` = `...`

###### chainId

`string` = `...`

###### gateway?

`string` = `...`

###### keyPair?

`KeyPair` = `...`

###### rpc

`string` = `...`

###### signer?

`string` = `...`

###### wallet?

`WalletContractV4` = `...`

#### 返回值

`Promise`\<`void`\>

交易发送后解析

***

### tonDepositAndCall()

> tonDepositAndCall(params, options): Promise<void>

从 TON 向 ZetaChain 的通用合约存入代币并发起跨链调用。

该函数在一次交易中合并代币存入与合约调用。支持从 TON 向 ZetaChain 转移 TON 代币，并立即在通用合约上执行函数调用。

你可以二选一提供：
- data：用于非 EVM 链的原始数据字符串
- types 与 values：用于 EVM 链，对函数参数进行编码

#### 参数

##### params

存入与调用参数，包括数量、接收方与调用数据

###### amount

`string` = `...`

###### data?

`string` = `...`

###### receiver

`string` = `...`

###### types?

`string`[] = `...`

###### values?

(`string` \| `bigint` \| `boolean`)[] = `...`

##### options

配置项，包括链 ID、RPC 端点、钱包与 API Key

###### apiKey?

`string` = `...`

###### chainId

`string` = `...`

###### gateway?

`string` = `...`

###### keyPair?

`KeyPair` = `...`

###### rpc

`string` = `...`

###### signer?

`string` = `...`

###### wallet?

`WalletContractV4` = `...`

#### 返回值

`Promise`\<`void`\>

交易发送后解析

***

### zetachainCall()

> zetachainCall(params, options): Promise<{ gasFee: bigint; gasZRC20: string; tx: ContractTransactionResponse; }>

从 ZetaChain 向另一条链发起跨链调用。

该函数允许你在不转移任何代币的情况下，从 ZetaChain 上的通用合约调用目标链上的合约。会使用指定的 ZRC20 自动处理目标链 Gas 费用的计算与授权。

#### 参数

##### params

调用参数，包括接收方地址、调用数据、Gas 选项与 ZRC20 代币

###### callOptions

\{ `gasLimit`: `string` \| `number` \| `bigint`; `isArbitraryCall`: `boolean`; \} = `callOptionsSchema`

###### callOptions.gasLimit

`string` \| `number` \| `bigint` = `bigNumberishSchema`

###### callOptions.isArbitraryCall

`boolean` = `...`

###### data?

`string` = `...`

###### function?

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### types?

`string`[] = `...`

###### values?

(`string` \| `bigint` \| `boolean`)[] = `...`

###### zrc20

`string` = `evmAddressSchema`

##### options

配置项，包括签名者与可选的网关地址

###### gateway?

`string` = `...`

###### signer

`Wallet` = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<\{ `gasFee`: `bigint`; `gasZRC20`: `string`; `tx`: `ContractTransactionResponse`; \}\>

解析为包含 Gas 费用、Gas ZRC20 地址与交易回执的对象的 Promise

***

### zetachainWithdraw()

> zetachainWithdraw(params, options): Promise<{ gasFee: bigint; gasZRC20: string; tx: ContractTransactionResponse; }>

从 ZetaChain 向目标链提取代币。

该函数允许你将 ZRC20 代币从 ZetaChain 转移到目标链。会自动处理 Gas 费用的计算与授权；若提取的代币与 Gas 代币相同，则会将两次授权合并为单笔交易。

#### 参数

##### params

提取参数，包括数量、接收方地址、ZRC20 代币与回退选项

###### amount

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### zrc20

`string` = `evmAddressSchema`

##### options

配置项，包括签名者与可选的网关地址

###### gateway?

`string` = `...`

###### signer

`Wallet` = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<\{ `gasFee`: `bigint`; `gasZRC20`: `string`; `tx`: `ContractTransactionResponse`; \}\>

解析为包含 Gas 费用、Gas ZRC20 地址与交易回执的对象的 Promise

***

### zetachainWithdrawAndCall()

> zetachainWithdrawAndCall(params, options): Promise<{ gasFee: bigint; gasZRC20: string; tx: ContractTransactionResponse; }>

从 ZetaChain 提取代币并向目标链发起跨链调用。

该函数在一次交易中合并代币提取与合约调用。支持将 ZRC20 代币从 ZetaChain 转移到目标链，并在该链上立即执行一次函数调用；会自动处理 Gas 费用的计算与授权。

#### 参数

##### params

提取与调用参数，包括数量、接收方地址、调用数据、Gas 选项与 ZRC20 代币

###### amount

`string` = `...`

###### callOptions

\{ `gasLimit`: `string` \| `number` \| `bigint`; `isArbitraryCall`: `boolean`; \} = `callOptionsSchema`

###### callOptions.gasLimit

`string` \| `number` \| `bigint` = `bigNumberishSchema`

###### callOptions.isArbitraryCall

`boolean` = `...`

###### data?

`string` = `...`

###### function?

`string` = `...`

###### receiver

`string` = `...`

###### revertOptions

\{ `abortAddress?`: `string`; `callOnRevert`: `boolean`; `onRevertGasLimit?`: `string` \| `number` \| `bigint`; `revertAddress?`: `string`; `revertMessage`: `string`; \} = `revertOptionsSchema`

###### revertOptions.abortAddress?

`string` = `...`

###### revertOptions.callOnRevert

`boolean` = `...`

###### revertOptions.onRevertGasLimit?

`string` \| `number` \| `bigint` = `...`

###### revertOptions.revertAddress?

`string` = `...`

###### revertOptions.revertMessage

`string` = `...`

###### types?

`string`[] = `...`

###### values?

(`string` \| `bigint` \| `boolean`)[] = `...`

###### zrc20

`string` = `evmAddressSchema`

##### options

配置项，包括签名者与可选的网关地址

###### gateway?

`string` = `...`

###### signer

`Wallet` = `...`

###### txOptions?

\{ `gasLimit?`: `string` \| `number` \| `bigint`; `gasPrice?`: `string` \| `number` \| `bigint`; `value?`: `string` \| `number` \| `bigint`; \} = `...`

###### txOptions.gasLimit?

`string` \| `number` \| `bigint` = `...`

###### txOptions.gasPrice?

`string` \| `number` \| `bigint` = `...`

###### txOptions.value?

`string` \| `number` \| `bigint` = `...`

#### 返回值

`Promise`\<\{ `gasFee`: `bigint`; `gasZRC20`: `string`; `tx`: `ContractTransactionResponse`; \}\>

解析为包含 Gas 费用、Gas ZRC20 地址与交易回执的对象的 Promise
