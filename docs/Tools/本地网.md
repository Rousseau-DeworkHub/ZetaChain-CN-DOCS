| 标题     | 描述                                       |
| :------- | :----------------------------------------- |
| Localnet | 在本地开发环境中构建通用应用程序并与之交互 |

Localnet 是 ZetaChain 的**一体化本地开发环境**，用于构建、测试和调试通用应用。它可以在你的计算机上快速启动一个功能齐全的多链实验环境——自动运行多个链（EVM、Solana、Sui、TON）的节点，并预先部署核心的 ZetaChain 协议合约、ZRC‑20 代币以及 Uniswap v2 和 v3 流动性池。可以把 Localnet 理解为“本地版 ZetaChain”：快速、可预测，非常适合快速迭代开发。

**为什么要使用 Localnet？**

🔄 在几秒钟内迭代跨链逻辑——无需再等待公共测试网。

🧪 一条命令重现复杂的多链流程。

🐞 在 EVM 层面逐步调试每一次合约调用。

🚀 当本地流程验证通过后，自信地部署到测试网或主网。

## ✨ 功能特性

- **一键启动** – 使用 `npx zetachain@latest localnet start` 即可启动全部组件。
- **多链模拟** – 支持 EVM、Solana、Sui 和 TON。
- **预部署合约**
  - 在所有支持链上部署 ZetaChain Gateway 合约。
  - ZRC‑20 代币（如 `ETH`、`USDC` 等）。
  - Uniswap v2 + v3 工厂（factories）、路由器（routers）与初始流动性池（initial liquidity pools）。
- **可配置** – 可传入自定义参数（如区块时间、fork URL 等）。

## 🚀 快速开始

安装前置依赖：

| 工具                 | 用途                | 安装链接                                                                                                           |
| -------------------- | ------------------- | ------------------------------------------------------------------------------------------------------------------ |
| **Node ≥ 18**        | CLI 包装与脚本支持  | [https://nodejs.org](https://nodejs.org)                                                                           |
| **Foundry (Anvil)**  | 本地 EVM            | [https://book.getfoundry.sh/getting-started/installation](https://book.getfoundry.sh/getting-started/installation) |

启动 Localnet：

```bash
npx zetachain@latest localnet start
```

几秒钟内，你将看到类似如下输出：

```
ZETACHAIN
┌──────────────────────────┬──────────────────────────────────────────────┐
│ (index)                  │ Values                                       │
├──────────────────────────┼──────────────────────────────────────────────┤
│ gatewayZEVM              │ '0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6' │
│ uniswapFactoryInstance   │ '0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0' │
│ uniswapRouterInstance    │ '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9' │
│ ...                      │                                              │
└──────────────────────────┴──────────────────────────────────────────────┘
```

## 🧩 深入了解

Localnet 的内部运行流程如下：

1. **Anvil 节点** 在默认端口启动。
2. **协议部署脚本** 发布所有核心合约。
3. **链模拟器**（Solana/Sui/TON）注册至 Connector。
4. **代币与流动性池** 被创建并预置初始资金。
5. 打印出已资助的开发者账户，方便使用。

## 🧪 实用示例

传入自定义 anvil 参数：

```bash
npx zetachain@latest localnet start   --anvil "--block-time 1 --gas-limit 120000000"   --port 9000
```

可用于模拟更快的区块时间，或通过提高 gas 上限来测试高吞吐量合约。

仅运行轻量级 EVM 实例的 Localnet：

```bash
npx zetachain@latest localnet start
```

当你的应用不需要使用 Solana、Sui 或 TON 时，使用此模式可更快启动并减少资源占用。

## 🛠️ 开源

Localnet 是[开源项目，托管在 GitHub](https://github.com/zeta-chain/localnet)。你可以克隆或贡献代码，了解其内部机制，或根据开发需求进行自定义与扩展。
